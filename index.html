<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Summary Maker App</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Tagify -->
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify"></script>
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.polyfills.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Override CSS -->
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <!---------------------------------------------- Background Div ------------------------------------------>
    <div class="video-background" id="video-background">
      <!-- Video -->
      <video autoplay muted loop>
        <source type="video/mp4" />
        Your browser does not support the video tag.
      </video>

      <!-- Semi-transparent Overlay -->
      <div class="overlay"></div>
    </div>

    <!----------------------------------------------  Header Navbar ------------------------------------------->
    <nav class="navbar bg-body-tertiary sticky-top">
      <div class="container-fluid">
        <!-- A. Summary Maker App Title -->
        <a class="navbar-brand" href="#">Summary Maker App</a>

        <!-- B. Offcanvas Toggler Btn  -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbarLight"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- C. Offcanvas -->
        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="offcanvasNavbarLight"
          data-bs-scroll="true"
          style="max-width: 50vw"
        >
          <!-- Offcanvas Header -->
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLightLabel">
              Jump to...
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <!-- Offcanvas Links -->
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <!-- 1 Primary Info -->
              <li class="nav-item">
                <a class="nav-link" href="#scrollspyHeading1">Primary Info</a>
              </li>
              <!-- 2 First Visit -->
              <li class="nav-item">
                <a class="nav-link" href="#scrollspyHeading2">First Visit</a>
              </li>
              <!-- 3 HOPI -->
              <li class="nav-item">
                <a class="nav-link" href="#scrollspyHeading3">HOPI</a>
              </li>
              <!-- 4 Investigation -->
              <li class="nav-item">
                <a class="nav-link" href="#scrollspyHeading4">Investigations</a>
              </li>
              <!-- 5,6,7,8 Treatment -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#scrollspyHeading5"
                  role="button"
                  data-bs-toggle="dropdown"
                >
                  Treatment
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="#scrollspyHeading6"
                      >Primary</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="#scrollspyHeading7">Neck</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#scrollspyHeading8">Recon</a>
                  </li>
                </ul>
              </li>
              <!-- 9,10,11,12 Histopath -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#scrollspyHeading9"
                  role="button"
                  data-bs-toggle="dropdown"
                >
                  Histopath
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="#scrollspyHeading10"
                      >Primary</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="#scrollspyHeading11">Neck</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#scrollspyHeading12"
                      >TNM Stage</a
                    >
                  </li>
                </ul>
              </li>
              <!-- 13 Summary -->
              <li class="nav-item">
                <a class="nav-link" href="#scrollspyHeading13">Summary</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <!---------------------------------------------------- Form ----------------------------------------------->
    <form
      id="primaryInfo"
      class="needs-validation p-3 mx-auto"
      novalidate
      style="max-width: 800px"
    >
      <!-------------- I. Primary Info ---------------------------->
      <div class="row border rounded-5 bg-light px-3 pb-4 gx-1 gy-2 mb-3">
        <!-- R0 - Title - Primary Info -->
        <div class="col-sm-12">
          <h4 id="scrollspyHeading1" class="text-center border-bottom pb-2">
            Primary Info
          </h4>
        </div>

        <!-- Primary Info Always Show Rows D=Desktop, M=Mobile -->
        <!-- DR1 - Pt Name, Age, Sex-->
        <!-- MR1 - Pt Name -->
        <div class="col-sm-6">
          <div class="form-floating">
            <input
              type="text"
              class="form-control"
              id="patientName"
              placeholder="Please enter name"
              required
              onchange="ButtonEnabler('patientName','PIMoreDetailsBtn')"
            />
            <label for="patientName">Patient Name*</label>
          </div>
        </div>

        <!-- MR2 - Age, Sex  -->
        <div class="col-sm-6">
          <div class="row gx-1">
            <!-- Age -->
            <div class="col-4">
              <div class="form-floating">
                <input
                  type="number"
                  class="form-control"
                  id="age"
                  placeholder="0"
                  required
                />
                <label for="age">Age*</label>
              </div>
            </div>

            <!-- Gender -->
            <div class="col-8">
              <div class="form-floating">
                <select class="form-control" id="gender" required>
                  <option value="">Select</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
                <label for="gender">Gender*</label>
              </div>
            </div>
          </div>
        </div>

        <!-- DR2 - Contact, Email, More Details -->
        <!-- MR3 - Contact -->
        <div class="col-sm-5">
          <div class="form-floating">
            <input
              type="number"
              class="form-control"
              id="ContactNumber"
              pattern="[0-9]{10}"
              placeholder="+91##########"
              required
            />
            <label for="ContactNumber">Contact Number*</label>
            <div class="invalid-feedback">Please enter a Contact Number</div>
          </div>
        </div>

        <!--MR4 - Email, More Details  -->
        <div class="col-sm-7">
          <div class="row gx-1 justify-content-center">
            <!-- Email -->
            <div class="col-6">
              <div class="form-floating">
                <input
                  type="email"
                  class="form-control"
                  id="EmailID"
                  placeholder="example@abc.com"
                />
                <label for="EmailID">Email ID</label>
                <div class="invalid-feedback">
                  Please enter a valid email id
                </div>
              </div>
            </div>

            <!-- More Details -->
            <div class="col-6 align-self-center">
              <div class="d-grid col-10 mx-auto">
                <button
                  type="button"
                  id="PIMoreDetailsBtn"
                  class="btn btn-sm btn-primary"
                  data-bs-toggle="collapse"
                  data-bs-target="#PIExpanded"
                  disabled
                >
                  Add More Details
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Primary Info Collapsed Rows -->
        <div class="collapse col-sm-12" id="PIExpanded">
          <div class="row gx-1 gy-2">
            <!-- DR3 - Local Address 1,2 -->
            <!-- MR5 - Address Line 1 -->
            <div class="col-sm-6">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="AddLine1"
                  placeholder="Address Line 1"
                />
                <label for="AddLine1">Address Line 1</label>
              </div>
            </div>

            <!-- MR6 - Address Line 2 -->
            <div class="col-sm-6">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="AddLine2"
                  placeholder="Address Line 2"
                />
                <label for="AddLine1">Address Line 2</label>
              </div>
            </div>

            <!-- DR4 - Country,State,City,Pincode -->
            <!-- MR7 - Country, State -->
            <div class="col-sm-6">
              <div class="row gx-1">
                <!-- Country -->
                <div class="col-6">
                  <div class="form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="Country"
                      placeholder="Country"
                    />
                    <label for="Country">Country</label>
                  </div>
                </div>

                <!-- State -->
                <div class="col-6">
                  <div class="form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="State"
                      placeholder="State"
                    />
                    <label for="State">State</label>
                  </div>
                </div>
              </div>
            </div>

            <!-- MR8 - City,Pincode -->
            <div class="col-sm-6">
              <div class="row gx-1">
                <!-- City -->
                <div class="col-6">
                  <div class="form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="City"
                      placeholder="City"
                    />
                    <label for="City">City</label>
                  </div>
                </div>

                <!-- Pincode -->
                <div class="col-6">
                  <div class="form-floating">
                    <input
                      type="number"
                      class="form-control"
                      id="Pincode"
                      placeholder="Pincode"
                    />
                    <label for="Pincode">Pincode</label>
                  </div>
                </div>
              </div>
            </div>

            <!-- DR5 - Relative Name, Relation, Number -->
            <!-- MR9 - Relative Name, Relation -->
            <div class="col-sm-8">
              <div class="input-group">
                <span
                  class="input-group-text bg-body-secondary"
                  for="RelativeName"
                  >Relative Name</span
                >
                <input type="text" class="form-control" id="RelativeName" />
                <span class="input-group-text bg-body-secondary" for="Relation"
                  >Relation</span
                >
                <input type="text" class="form-control" id="Relation" />
              </div>
            </div>

            <!-- MR10 -->
            <div class="col-sm-4">
              <div class="input-group">
                <span
                  class="input-group-text bg-body-secondary"
                  for="RelativeNumber"
                  >Relative's Contact Number</span
                >
                <input type="number" class="form-control" id="RelativeNumber" />
              </div>
            </div>

            <!-- DR6 - Referred By, Any other Info -->
            <!-- MR11 - Referred By -->
            <div class="col-sm-6">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="Referredby"
                  placeholder="Referred by"
                />
                <label for="Referredby">Referred by</label>
              </div>
            </div>

            <!-- MR12 - Any Other Info -->
            <div class="col-sm-6">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="AnyOtherInfo"
                  placeholder="Any Other Info"
                />
                <label for="AnyOtherInfo">Any Other Info</label>
              </div>
            </div>
          </div>
        </div>
        <!-- End of Set 1 - Primary Info -->
      </div>

      <!-------------- II. First Visit ---------------------------->
      <div class="row border rounded-5 bg-light px-3 pb-4 gx-1 gy-2 mb-3">
        <!-- R0 - Title - First Visit -->
        <div class="col-sm-12">
          <h4 id="scrollspyHeading2" class="text-center border-bottom pb-2">
            First Visit
          </h4>
        </div>

        <!-- DR1 - Visit Date, Place, Reg No., Add More Details Btn -->
        <!-- MR1 - Visit Date, Place -->
        <div class="col-sm-6">
          <div class="row gx-1">
            <!-- Visit Date -->
            <div class="col-5">
              <div class="form-floating">
                <input
                  type="date"
                  class="form-control"
                  id="FirstVistDate"
                  placeholder="Date"
                  onchange="ButtonEnabler('FirstVistDate','FVMoreDetailsBtn')"
                />
                <label for="FirstVistDate">1st Visit Date</label>
              </div>
            </div>

            <!-- Visit Place -->
            <div class="col-7">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="HospitalName"
                  placeholder="Name"
                />
                <label for="HospitalName">Hospital Name</label>
              </div>
            </div>
          </div>
        </div>

        <!-- MR2 - Reg No., Add More Details Btn -->
        <div class="col-sm-6">
          <div class="row gx-1">
            <!-- Reg No. -->
            <div class="col-7">
              <div class="form-floating">
                <input
                  type="number"
                  class="form-control"
                  id="IPDNo"
                  placeholder="0"
                />
                <label for="IPDNo">IPD No.</label>
              </div>
            </div>

            <!-- Add Details Btn -->
            <div class="col-5 align-self-center">
              <div class="d-grid col-10 mx-auto">
                <button
                  type="button"
                  id="FVMoreDetailsBtn"
                  class="btn btn-sm btn-primary"
                  data-bs-toggle="collapse"
                  data-bs-target="#FVExpanded"
                  disabled
                >
                  Add Details
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- First Visit Collapsed Rows -->
        <div class="collapse col-sm-12" id="FVExpanded">
          <div class="row gx-1 gy-2">
            <!-- DR2 - Chief Complaints -->
            <!-- MR3&4 - Chief Complaints -->
            <div class="col-sm-12">
              <div class="form-floating">
                <textarea
                  id="Complaints"
                  class="form-control"
                  placeholder="Describe the patients compliants here"
                  style="height: 10vh"
                  required
                ></textarea>
                <label for="Complaints">Chief Complaints*</label>
                <div class="form-text">
                  Format: <i>Complaint -> Site -> Duration</i> <br />
                  Example:
                  <i
                    >Pain in the right side of the face since 2 weeks and
                    swelling since 1 week and halitosis.</i
                  >
                </div>
              </div>
            </div>

            <!-- DR3 - On Examination -->
            <!-- MR5&6 - On Examination -->
            <div class="col-sm-12">
              <div class="form-floating">
                <textarea
                  id="OnExam"
                  class="form-control"
                  style="height: 15vh"
                  placeholder="Describe the examination findings here"
                ></textarea>
                <label for="OnExam">On Examination</label>
                <div class="form-text">
                  Example:
                  <i
                    >2x2cm ulcer seen in the right buccal mucosa and a single
                    hard right submandibular node palpable</i
                  >
                </div>
              </div>
            </div>

            <!-- DR4 - Medical History -->
            <!-- MR7&8 - Medical History -->
            <div class="col-sm-12">
              <div class="form-floating">
                <textarea
                  id="MedicalHistory"
                  class="form-control"
                  style="height: 10vh"
                  placeholder="Relevant Medical History"
                ></textarea>
                <label for="MedicalHistory"
                  >Relevant Medical History, if any</label
                >
                <div class="form-text">
                  Eg:
                  <i
                    >Well controlled hypertension since 4 yrs / On Ecosprin 75mg
                    for IHD since 2 years</i
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End of Set 2 - First Visit Always Show Rows -->
      </div>

      <!-------------- III. Hopi & Investgations -->
      <div class="row border rounded-5 bg-light px-3 pb-4 gx-1 gy-2 mb-4">
        <!-- R0 - Title - Hopi & Investgations -->
        <div class="col-sm-12">
          <h4 id="scrollspyHeading3" class="text-center border-bottom pb-2">
            HOPI & Investigations
          </h4>
        </div>

        <!-- HOPI Always Show -->
        <!-- DR1 - HOPI -->
        <!-- MR1&2 - HOPI -->
        <div class="col-sm-12">
          <div class="form-floating">
            <textarea
              id="HOPI"
              class="form-control"
              placeholder="History of presenting illness"
            ></textarea>
            <label for="HOPI">History of Presenting Illness, if any</label>
            <div class="form-text">
              History of previous surgery, any other treatment / chemotherapy
              relevant to the chief complaint.
            </div>
          </div>
        </div>

        <!-- DR1 - Add Inv Accordion -->
        <!-- MR3 - Add Inv Accordion -->
        <div class="col-sm-12">
          <div class="accordion accordion-flush" id="InvAccordion">
            <!-- Inv Header Btn -->
            <h2 class="accordion-header" id="scrollspyHeading4">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapseOne"
              >
                Add Investgations
              </button>
            </h2>

            <!-- Collapsible Investiagtion Form -->
            <div
              id="flush-collapseOne"
              class="accordion-collapse collapse"
              data-bs-parent="#InvAccordion"
            >
              <div class="accordion-body">
                <div class="row gx-1 gy-2">
                  <!-- Inv Date -->
                  <div class="col-4">
                    <div class="form-group">
                      <label for="InvDate">Date</label>
                      <input class="form-control" type="date" id="InvDate" />
                    </div>
                  </div>

                  <!-- Inv Type -->
                  <div class="col-4">
                    <div class="form-group">
                      <label for="InvType">Type*</label>
                      <input id="InvType" type="text" class="form-control" list="inv-type"/>
                      <datalist id="inv-type"></datalist>
                    </div>
                  </div>

                  <!-- Inv Site/Area -->
                  <div class="col-4">
                    <div class="form-group">
                      <label for="InvSite">Site/Area</label>
                      <input id="InvSite" type="text" class="form-control" />
                    </div>
                  </div>

                  <!-- Inv Findings -->
                  <div class="col-8">
                    <div class="form-group">
                      <label for="InvFindings">Findings*</label>
                      <textarea
                        id="InvFindings"
                        class="form-control"
                        placeholder="Findings or Report"
                      ></textarea>
                    </div>
                  </div>

                  <!-- Add Inv Btn -->
                  <div class="col-4 justify-content-center align-self-end">
                    <div class="d-grid col-8 mx-auto">
                      <button
                        type="button"
                        id="addInvestigationBtn"
                        class="btn btn-sm btn-primary"
                        onclick="addInvestigation()"
                      >
                        Add Investigation
                      </button>
                    </div>
                  </div>

                  <!-- Investigation Table -->
                  <div class="col-12">
                    <h5 class="mt-3">Investigations</h5>
                    <table class="table table-sm table-bordered">
                      <thead>
                        <tr class="text-center">
                          <th scope="col" width="15%">Type</th>
                          <th scope="col" width="15%">Site</th>
                          <th scope="col" width="15%">Date</th>
                          <th scope="col" width="50%">Findings</th>
                          <th scope="col" width="5%"></th>
                        </tr>
                      </thead>
                      <tbody id="InvTable" style="font-size: smaller"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


    </form>

    <!--------------------------------------------------- Summary --------------------------------------------->

    <!-------------------------------------------------Scripts & CDN ------------------------------------------->
    <!-- Main.js Script -->
    <script src="./js/main.js"></script>

    <!-- Bootstrap Script -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
